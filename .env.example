# ==============================================================================
# E-Commerce Data Pipeline - Environment Configuration
# ==============================================================================
# Copy this file to .env and update with your values
# For local development: use LocalStack endpoints
# For AWS production: remove AWS_ENDPOINT (uses real AWS)
# ==============================================================================

# ==============================================================================
# AWS Configuration
# ==============================================================================
AWS_REGION=us-east-1
AWS_ACCESS_KEY_ID=your-access-key-id
AWS_SECRET_ACCESS_KEY=your-secret-access-key

# LocalStack endpoint (ONLY for local development)
# Comment out or remove this line for production AWS deployment
AWS_ENDPOINT=http://localhost:4566

# ==============================================================================
# S3 Configuration
# ==============================================================================
# Local: product-ingestion-bucket
# Production: product-ingestion-bucket-YOUR_ACCOUNT_ID
S3_BUCKET=product-ingestion-bucket

# ==============================================================================
# SQS Configuration
# ==============================================================================
# Local: http://localhost:4566/000000000000/product-ingestion-queue
# Production: https://sqs.us-east-1.amazonaws.com/YOUR_ACCOUNT_ID/product-ingestion-queue
SQS_QUEUE_URL=http://localhost:4566/000000000000/product-ingestion-queue
SQS_POLL_INTERVAL_MS=5000
SQS_MAX_MESSAGES=10

# ==============================================================================
# EventBridge Configuration
# ==============================================================================
EVENT_BUS_NAME=product-events

# ==============================================================================
# Pimcore Configuration
# ==============================================================================
PIMCORE_API_URL=http://localhost:8080/api
PIMCORE_API_KEY=
PIMCORE_TIMEOUT_MS=30000

# ==============================================================================
# MedusaJS Configuration
# ==============================================================================
MEDUSA_API_URL=http://localhost:9000
MEDUSA_API_KEY=
MEDUSA_TIMEOUT_MS=30000

# ==============================================================================
# PostgreSQL Configuration
# ==============================================================================
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres
POSTGRES_DB=postgres
DATABASE_URL=postgres://postgres:postgres@localhost:5432/postgres

# ==============================================================================
# Redis Configuration
# ==============================================================================
REDIS_URL=redis://localhost:6379
REDIS_HOST=localhost
REDIS_PORT=6379

# ==============================================================================
# Application Configuration
# ==============================================================================
NODE_ENV=development
PORT=3000
LOG_LEVEL=INFO

# ==============================================================================
# Retry & Circuit Breaker Configuration
# ==============================================================================
RETRY_MAX_ATTEMPTS=3
RETRY_BASE_DELAY_MS=1000
RETRY_MAX_DELAY_MS=30000
CIRCUIT_BREAKER_FAILURE_THRESHOLD=5
CIRCUIT_BREAKER_RESET_TIMEOUT_MS=60000

# ==============================================================================
# Idempotency Configuration
# ==============================================================================
IDEMPOTENCY_TTL_MS=86400000
